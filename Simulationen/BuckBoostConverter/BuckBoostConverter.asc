Version 4
SHEET 1 3600 1280
WIRE -832 -784 -976 -784
WIRE -768 -784 -832 -784
WIRE 1424 -784 -688 -784
WIRE 1584 -784 1424 -784
WIRE 2688 -784 1584 -784
WIRE 2688 -752 2688 -784
WIRE 3008 -720 2880 -720
WIRE 3136 -720 3008 -720
WIRE -832 -688 -832 -784
WIRE -704 -688 -704 -736
WIRE -704 -688 -832 -688
WIRE 2880 -656 2880 -720
WIRE 1584 -640 0 -640
WIRE 2608 -640 1584 -640
WIRE 2688 -640 2688 -672
WIRE 2688 -640 2608 -640
WIRE 2832 -640 2688 -640
WIRE 2688 -624 2688 -640
WIRE 3136 -624 3136 -720
WIRE 2608 -608 2608 -640
WIRE 2608 -512 2608 -544
WIRE 2688 -512 2688 -544
WIRE 2880 -432 2880 -560
WIRE 3136 -432 3136 -544
WIRE 3136 -432 2880 -432
WIRE 2576 -400 2112 -400
WIRE 1424 -384 1424 -784
WIRE -976 -368 -976 -784
WIRE 2112 -336 2112 -400
WIRE 2256 -336 2112 -336
WIRE 2576 -336 2576 -400
WIRE 2576 -336 2448 -336
WIRE 2784 -304 2672 -304
WIRE 2832 -304 2784 -304
WIRE 3008 -304 3008 -720
WIRE 3008 -304 2912 -304
WIRE 3248 -304 3008 -304
WIRE 3408 -304 3328 -304
WIRE 3472 -304 3408 -304
WIRE 3520 -304 3472 -304
WIRE 2112 -288 2112 -336
WIRE 2224 -288 2112 -288
WIRE 2112 -272 2112 -288
WIRE -976 -256 -976 -288
WIRE 368 -256 112 -256
WIRE 576 -256 448 -256
WIRE 704 -256 576 -256
WIRE 2224 -240 2224 -288
WIRE 2256 -240 2224 -240
WIRE 2672 -240 2672 -304
WIRE 2672 -240 2448 -240
WIRE 3008 -240 3008 -304
WIRE 3408 -240 3408 -304
WIRE 3136 -208 3136 -432
WIRE 3184 -208 3136 -208
WIRE 2784 -176 2784 -304
WIRE 3136 -176 3136 -208
WIRE 112 -160 112 -256
WIRE 704 -144 704 -256
WIRE 704 -144 640 -144
WIRE 736 -144 704 -144
WIRE 864 -144 800 -144
WIRE 1088 -144 864 -144
WIRE 1136 -144 1088 -144
WIRE 1296 -144 1216 -144
WIRE 1424 -144 1424 -320
WIRE 1424 -144 1296 -144
WIRE 1504 -144 1424 -144
WIRE 1584 -144 1504 -144
WIRE 2112 -144 2112 -192
WIRE 2112 -144 1584 -144
WIRE 2256 -144 2112 -144
WIRE 2528 -144 2448 -144
WIRE 112 -128 112 -160
WIRE 128 -128 112 -128
WIRE 288 -128 208 -128
WIRE 640 -128 640 -144
WIRE 640 -128 480 -128
WIRE 2528 -128 2528 -144
WIRE 112 -80 112 -128
WIRE 256 -80 112 -80
WIRE 1088 -80 1088 -144
WIRE 112 -64 112 -80
WIRE 1504 -64 1504 -144
WIRE 3136 -64 3136 -96
WIRE 2256 -48 2192 -48
WIRE 2528 -48 2528 -64
WIRE 2528 -48 2448 -48
WIRE 256 -32 256 -80
WIRE 288 -32 256 -32
WIRE 752 -32 480 -32
WIRE 864 -32 864 -144
WIRE 1296 -32 1296 -144
WIRE 2528 0 2528 -48
WIRE 2784 0 2784 -112
WIRE 3008 0 3008 -176
WIRE 3408 0 3408 -176
WIRE -800 32 -960 32
WIRE -736 32 -800 32
WIRE -496 32 -656 32
WIRE -384 32 -496 32
WIRE -240 32 -304 32
WIRE -160 32 -240 32
WIRE 112 32 112 16
WIRE 112 32 -160 32
WIRE 240 32 112 32
WIRE 1088 32 1088 0
WIRE 1088 32 992 32
WIRE 240 64 240 32
WIRE 288 64 240 64
WIRE 528 64 480 64
WIRE 528 96 528 64
WIRE 112 112 112 32
WIRE 1088 112 1088 32
WIRE 2192 112 2192 -48
WIRE 3184 112 3184 -208
WIRE 3184 112 2192 112
WIRE -800 128 -800 32
WIRE -672 128 -672 80
WIRE -672 128 -800 128
WIRE 288 160 208 160
WIRE 528 160 480 160
WIRE 752 160 752 -32
WIRE 864 160 864 32
WIRE 1296 160 1296 32
WIRE 1504 160 1504 16
WIRE -960 176 -960 32
WIRE -496 176 -496 32
WIRE 0 192 0 -640
WIRE 64 192 0 192
WIRE 528 208 528 160
WIRE 1088 224 1088 192
WIRE 112 288 112 208
WIRE 208 288 208 160
WIRE 208 288 112 288
WIRE 992 288 992 32
WIRE 992 288 208 288
WIRE -160 416 -160 32
WIRE 3472 416 3472 -304
WIRE 3472 416 -160 416
FLAG 864 160 0
FLAG 1504 160 0
FLAG 752 160 0
FLAG 1584 -144 24Vintern
FLAG -496 256 0
FLAG 528 208 0
FLAG 1088 224 0
FLAG -240 32 5Vint
FLAG 112 -160 Isns
FLAG 576 -256 SWC
FLAG -752 -736 0
FLAG 1296 160 0
FLAG -960 256 0
FLAG -496 32 5V
FLAG 2784 0 0
FLAG 2528 0 0
FLAG 3136 -64 0
FLAG 3008 0 0
FLAG 3408 0 0
FLAG 3520 -304 5Vint
FLAG -976 -256 0
FLAG 2688 -512 0
FLAG 2608 -512 0
FLAG -720 80 0
FLAG 1584 -640 BoostEnable
FLAG 1584 -784 24V
SYMBOL voltage -960 160 R0
WINDOW 0 49 31 Left 2
WINDOW 3 50 75 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 50 103 Left 2
SYMATTR InstName V1
SYMATTR Value 5V
SYMATTR SpiceLine Rser=0.5
SYMBOL res 224 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 180
SYMBOL res 96 -80 R0
SYMATTR InstName R2
SYMATTR Value 0.33
SYMBOL schottky 736 -128 R270
WINDOW 0 36 32 VTop 2
WINDOW 3 -4 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N5819
SYMATTR Description Zener Diode
SYMATTR Type zener
SYMBOL polcap 848 -32 R0
WINDOW 3 24 56 Left 2
SYMATTR Value 150µ
SYMATTR InstName C1
SYMATTR SpiceLine V=35 Irms=595m Rser=0.027 Lser=0
SYMATTR Description Capacitor
SYMATTR Type cap
SYMBOL ind 352 -240 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 47µ
SYMATTR SpiceLine Ipk=0.85 Rser=0.123 Rpar=32930 Cpar=2.612p mfg="Bourns, Inc." pn="SRR6040A-470M"
SYMBOL res 1488 -80 R0
SYMATTR InstName R6
SYMATTR Value {Rlast}
SYMBOL res -512 160 R0
SYMATTR InstName Arduino
SYMATTR Value {Rarduino}
SYMBOL cap 512 96 R0
SYMATTR InstName C5
SYMATTR Value 430p
SYMBOL res 1072 -96 R0
SYMATTR InstName R3
SYMATTR Value 200k
SYMBOL res 1072 96 R0
SYMATTR InstName R8
SYMATTR Value 11.5k
SYMBOL MC33063A 384 16 M0
WINDOW 0 0 176 Center 2
SYMATTR InstName X2
SYMBOL sw -784 -784 R270
SYMATTR InstName S1
SYMATTR Value MySW
SYMBOL polcap 1280 -32 R0
WINDOW 3 24 56 Left 2
SYMATTR Value 150µ
SYMATTR InstName C2
SYMATTR SpiceLine V=35 Irms=595m Rser=0.027 Lser=0
SYMATTR Description Capacitor
SYMATTR Type cap
SYMBOL ind 1120 -128 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 1000n
SYMATTR SpiceLine Ipk=1.2 Rser=0.12 Rpar=0 Cpar=0 mfg="Murata" pn="LQM31PN1R0M00"
SYMBOL ind -400 48 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L4
SYMATTR Value 100µ
SYMATTR SpiceLine Ipk=1.2 Rser=0.12 Rpar=0 Cpar=0
SYMBOL polcap 2992 -240 R0
WINDOW 0 -29 10 Left 2
WINDOW 3 -50 63 Left 2
SYMATTR InstName C4
SYMATTR Value 120µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=10 Irms=3.87298 Rser=0.018 Lser=0
SYMBOL voltage -976 -384 R0
WINDOW 0 49 31 Left 2
WINDOW 3 50 75 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 24 100m)
SYMBOL res 2096 -288 R0
SYMATTR InstName R4
SYMATTR Value 0.25
SYMBOL schottky 2800 -112 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N5819
SYMATTR Description Zener Diode
SYMATTR Type zener
SYMBOL ind 2816 -288 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L5
SYMATTR Value 47µ
SYMBOL cap 2512 -128 R0
SYMATTR InstName C9
SYMATTR Value 120p
SYMBOL res 3152 -528 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 200k
SYMBOL res 3152 -80 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 67k
SYMBOL MC33063A 2352 -192 M0
WINDOW 0 0 176 Center 2
SYMATTR InstName X1
SYMBOL ind 3232 -288 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L6
SYMATTR Value 1000n
SYMATTR SpiceLine Ipk=0.9 Rser=0.2 Rpar=1600 Cpar=1.25p mfg="Würth Elektronik" pn="74479763210A WE-PMI 0603"
SYMBOL polcap 3392 -240 R0
WINDOW 0 -29 10 Left 2
WINDOW 3 -50 63 Left 2
SYMATTR InstName C10
SYMATTR Value 120µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=10 Irms=3.87298 Rser=0.018 Lser=0
SYMBOL pmos 2832 -560 M180
SYMATTR InstName M1
SYMATTR Value BSS84
SYMBOL res 2672 -640 R0
SYMATTR InstName R9
SYMATTR Value 26.1k
SYMBOL schottky 1408 -384 R0
WINDOW 3 24 28 Left 2
SYMATTR Value 1N5819
SYMATTR InstName D3
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 2672 -768 R0
SYMATTR InstName R10
SYMATTR Value 100k
SYMBOL zener 2624 -544 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value BZX84C10L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL nmos 64 112 R0
SYMATTR InstName M2
SYMATTR Value NDC7002N
SYMBOL sw -752 32 R270
SYMATTR InstName S2
SYMATTR Value MySW
TEXT -2000 456 Left 2 !.tran 150ms
TEXT -2000 480 Left 2 !.options Gmin=1e-9  method=Gear
TEXT -2008 544 Left 2 !.meas RMScurrentStartup RMS I(V1) FROM 0 TO 70ms
TEXT -2008 584 Left 2 !.meas RMScurrentRun RMS I(V1) FROM 80ms TO 100ms
TEXT -1992 680 Left 2 !.model MYSW SW(Ron=1n Roff=100Meg Vt=.5 Vh=-.4)
TEXT -1984 728 Left 2 !;step param Rlast list 400 1000 2k 5k 10k
TEXT -1976 856 Left 2 !.param Rlast 1000
TEXT -1984 816 Left 2 !.param Rarduino 40
